-- MySQL Script generated by MySQL Workbench
-- Wed 21 Oct 2020 11:10:56 PM CEST
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema Mealsharing
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `Mealsharing` ;

-- -----------------------------------------------------
-- Schema Mealsharing
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Mealsharing` DEFAULT CHARACTER SET utf8 ;
USE `Mealsharing` ;

-- -----------------------------------------------------
-- Table `Mealsharing`.`Meal`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Mealsharing`.`Meal` ;

CREATE TABLE IF NOT EXISTS `Mealsharing`.`Meal` (
  `idMeal` INT NOT NULL,
  `title` VARCHAR(45) NULL,
  `description` TEXT NULL,
  `time_to_serve` DATETIME NULL,
  `max_reservation` INT NULL,
  `price` DECIMAL NULL,
  `created_date` DATE NULL,
  PRIMARY KEY (`idMeal`),
  UNIQUE INDEX `idMeal_UNIQUE` (`idMeal` ASC))
ENGINE = InnoDB;

INSERT INTO Meal (idMeal, title, description, time_to_serve, max_reservation, price, created_date) VALUES (1, 'Pitza', 'An American deep pan stayle pitza', '2021-03-23 13:30:00', 13, 98.00, '2020-10-14');
INSERT INTO Meal (idMeal, title, description, time_to_serve, max_reservation, price, created_date) VALUES (2, 'Pasta', 'A traditional Italian Nappoli seasonal pasta', '2021-03-03 20:00:00', 10, 22.00, '2020-04-03');
INSERT INTO Meal (idMeal, title, description, time_to_serve, max_reservation, price, created_date) VALUES (3, 'Dolme', 'A food with leafs of grapes and rice inside', '2020-01-28 15:00:00', 30, 38.00, '2020-05-04');
INSERT INTO Meal (idMeal, title, description, time_to_serve, max_reservation, price, created_date) VALUES (4, 'Mexican Burger', 'A traditional Iranian food with chicken and nuts', '2020-11-17 18:30:00', 25, 98.00, '2020-10-14');
INSERT INTO Meal (idMeal, title, description, time_to_serve, max_reservation, price, created_date) VALUES (5, 'Kebab', 'A traditional Turkish meal with tomato and chili', '2021-05-30 14:00:00', 15, 60.00, '2020-09-14');

-- -----------------------------------------------------
-- Table `Mealsharing`.`Reservation`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Mealsharing`.`Reservation` ;

CREATE TABLE IF NOT EXISTS `Mealsharing`.`Reservation` (
  `idReservation` INT NOT NULL,
  `Number_of_guests` INT NULL,
  `meal_id` INT NULL,
  `created_date` DATE NULL,
  `contact_phonenumber` VARCHAR(45) NULL,
  `contact_name` VARCHAR(45) NULL,
  `contact_email` VARCHAR(45) NULL,
  PRIMARY KEY (`idReservation`),
  INDEX `fk_Reservation_1_idx` (`meal_id` ASC),
  CONSTRAINT `fk_Reservation_1`
    FOREIGN KEY (`meal_id`)
    REFERENCES `Mealsharing`.`Meal` (`idMeal`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

-- Reservation

INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (1, 3, 2, '2020-10-13', 51345698, 'Hamed', 'h@gmail.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (2, 3, 1, '2020-09-03', 41325608, 'John', 'jh@gmail.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (3, 2, 3, '2020-08-15', 41345600, 'Gabreil', 'gabriel@yahoo.nu');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (4, 4, 3, '2020-07-01', 91345698, 'Adam', 'adm@gmail.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (5, 5, 5, '2020-03-04', 81335698, 'Mari', 'mdd12@hotmail.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (6, 2, 6, '2020-06-13', 51322610, 'Fariba', 'fardad@gmail.dk');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (7, 1, 2, '2020-09-20', 21207768, 'Josef', 'j120@gmail.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (8, 3, 1, '2020-08-30', 40045699, 'Ali', 'a23@yahoo.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (9, 3, 1, '2020-09-01', 91770079, 'Emil', 'emil.gas@yahoo.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (10, 4, 2, '2020-11-14', 81759878, 'Erik', 'erk@yahoo.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (11, 2, 4, '2020-12-01', 31240691, 'Thomas', 'tom_43@gmail.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (12, 5, 2, '2020-10-09', 51345665, 'Tom', 'tt65_kdf@gmail.nl');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (13, 2, 4, '2020-05-22', 50045600, 'Line', 'lin_prett@gmail.com');
INSERT INTO Reservation (idReservation, Number_of_guests, meal_id, created_date, contact_phonenumber, contact_name, contact_email) VALUES (14, 3, 5, '2020-03-19', 61025697, 'Carsten', 'casrenrasmus@hotmail.com');

-- -----------------------------------------------------
-- Table `Mealsharing`.`Review`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `Mealsharing`.`Review` ;

CREATE TABLE IF NOT EXISTS `Mealsharing`.`Review` (
  `idReview` INT NOT NULL,
  `title` VARCHAR(45) NULL,
  `description` TEXT NULL,
  `meal_id` INT NULL,
  `stars` INT NULL,
  `created_date` DATE NULL,
  PRIMARY KEY (`idReview`),
  UNIQUE INDEX `idReview_UNIQUE` (`idReview` ASC),
  INDEX `fk_Review_1_idx` (`meal_id` ASC),
  CONSTRAINT `fk_Review_1`
    FOREIGN KEY (`meal_id`)
    REFERENCES `Mealsharing`.`Meal` (`idMeal`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

INSERT INTO Review (idReview, title, description, meal_id, stars, created_date) VALUES (1, 'Very delicious pitza', 'the pitza was very delicious and nice', 1, 5, '2020-03-14');
INSERT INTO Review (idReview, title, description, meal_id, stars, created_date) VALUES (2, 'awfull experience', 'the burger was not so good. It was dry and a littl ebit burned', 4, 1, '2020-11-19');
INSERT INTO Review (idReview, title, description, meal_id, stars, created_date) VALUES (3, 'wow, great pasta', 'they have been made by themselves. It was an actual home made pasta. I really want to recommend it to others to try', 2, 5, '2021-03-03');
INSERT INTO Review (idReview, title, description, meal_id, stars, created_date) VALUES (4, 'it was a real Kebab', 'the shape was not as a real Kebab should have, however the taste was acceptable', 5, 3, '2021-06-02');
INSERT INTO Review (idReview, title, description, meal_id, stars, created_date) VALUES (5, 'very spicy burger', 'I have not expected so so much spicy taste. I should have think about it before to try', 4, 2, '2020-11-23');
INSERT INTO Review (idReview, title, description, meal_id, stars, created_date) VALUES (6, 'Very weird meal', 'I like it however it was very weird food for me. I did not imagin Dolme taste it like that', 3, 4, '2020-02-14');
INSERT INTO Review (idReview, title, description, meal_id, stars, created_date) VALUES (7, 'a middle tast', 'I have tried several times a Dolmeh. I can not score this one a best but I was happy to try it', 3, 3, '2020-02-08');


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
